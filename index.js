import{i as v,A as m,S as g,N as y,P as h,K as L}from"./assets/vendor-gs5ouRz6.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",async()=>{const e=document.getElementById("reviews-list"),n=document.getElementById("prev-button"),s=document.getElementById("next-button"),r="https://portfolio-js.b.goit.study/api/reviews";try{let u=function(){let i=0;document.querySelectorAll(".swiper-slide").forEach(a=>{a.style.height="auto",i=Math.max(i,a.offsetHeight)}),document.querySelectorAll(".swiper-slide").forEach(a=>{a.style.height=`${i}px`})};const t=await fetch(r);if(!t.ok)throw new Error("Failed to fetch reviews");const o=await t.json();if(o.length===0){e.innerHTML="<p class='error-message'>No reviews available</p>";return}e.innerHTML="",o.slice(0,6).forEach(i=>{const a=document.createElement("div");a.classList.add("swiper-slide"),a.innerHTML=`
                <div class="review">
                    <img 
                        src="${i.avatar_url||"images/default-avatar.png"}" 
                        alt="${i.author}" 
                        class="review-avatar" 
                        loading="lazy" 
                    >
                    <h3 class="review-author">${i.author}</h3>
                    <p class="review-text">${i.review}</p>
                </div>
            `,e.appendChild(a)});const c=new Swiper(".swiper",{slidesPerView:1,spaceBetween:16,pagination:{el:".swiper-pagination",clickable:!0,type:"bullets"},breakpoints:{768:{slidesPerView:2,spaceBetween:16},1440:{slidesPerView:4,spaceBetween:16}},on:{init:function(){u()},resize:function(){u()}}});c.on("slideChange",u),u(),n.addEventListener("click",()=>c.slidePrev()),s.addEventListener("click",()=>c.slideNext())}catch(t){e.innerHTML="<p class='error-message'>Not found</p>",v.error({title:"Error",message:"Failed to load reviews",position:"topRight"}),console.error("Error loading reviews:",t)}});document.addEventListener("DOMContentLoaded",function(){new m(".accordion-container",{duration:400,ariaEnabled:!0,showMultiple:!0,collapse:!0,openOnInit:[0],onOpen:e=>{e.classList.add("is-active")},onClose:e=>{e.classList.remove("is-active")}})});new g(".skills-swiper",{slidesPerView:6,slidesPerGroup:1,loop:!0,modules:[y,h,L],navigation:{nextEl:".skills-button"},keyboard:{enabled:!0,pageUpDown:!0},mousewheel:{invert:!0},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{slideChangeTransitionEnd:function(e){document.querySelectorAll(".skills-text").forEach(s=>{s.classList.remove("color-red-point")});const n=e.slides[e.activeIndex];if(n){const s=n.querySelector(".skills-text");s&&s.classList.add("color-red-point")}}}});const w=document.querySelector(".marquee"),p=document.querySelectorAll(".list-item");async function E(){p.forEach(e=>{e.classList.add("marquee__line")})}async function b(){p.forEach(e=>{e.classList.remove("marquee__line")})}const S={rootMargin:"0px",threshold:0},B=new IntersectionObserver(e=>{e[0].isIntersecting?E():b()},S);B.observe(w);document.addEventListener("DOMContentLoaded",function(){new m(".accordion__list",{duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",showMultiple:!0,triggerClass:"accordion__text",elementClass:"accordion__item",activeClass:"active",panelClass:"accordion__panel",collapse:!0,beforeOpen:e=>{const n=e.querySelector(".accordion__icon");n&&n.classList.add("rotated")},beforeClose:e=>{const n=e.querySelector(".accordion__icon");n&&n.classList.remove("rotated")}})});const d={menuBtn:document.querySelector(".header-btn-js"),menuList:document.querySelector(".menu-list-js"),openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),mobMenu:document.querySelector("[data-menu]"),menuLinks:document.querySelectorAll(".mob-menu-js a")};d.menuBtn.addEventListener("click",M);function M(){d.menuList.classList.toggle("active")}function f(){d.mobMenu.classList.toggle("is-open"),document.body.classList.toggle("no-scroll")}d.openMenuBtn.addEventListener("click",f);d.closeMenuBtn.addEventListener("click",f);d.menuLinks.forEach(e=>{e.addEventListener("click",()=>{d.mobMenu.classList.remove("is-open"),document.body.classList.remove("no-scroll")})});document.addEventListener("DOMContentLoaded",function(){const e=new Swiper(".swiper",{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".next",prevEl:".prev"},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}},on:{init:n,slideChange:n}});function n(){document.querySelector(".prev").disabled=e.isBeginning,document.querySelector(".next").disabled=e.isEnd}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("modal"),n=document.getElementById("close"),s=document.getElementById("email"),r=document.getElementById("comment"),t=document.getElementById("message"),o=document.getElementById("openModalBtn"),c=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function u(){return s.value.trim()!==""&&r.value.trim()!==""}o.addEventListener("click",function(i){if(i.preventDefault(),!u()){alert("Будь ласка, заповніть всі поля.");return}const a={email:s.value.trim(),comment:r.value.trim()};fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(l=>{if(!l.ok)throw new Error(`Помилка сервера: ${l.status}`);return l.json()}).then(l=>{l.message&&l.message.includes("contact you shortly")?(e.style.display="block",e.classList.add("active"),s.value="",r.value="",t.classList.add("hidden"),s.classList.remove("success"),s.classList.remove("error")):alert("Помилка: "+(l.message||"Невідома помилка"))}).catch(l=>{alert("Сталася помилка при відправці: "+l.message)})}),openModalBtn.addEventListener("click",function(){e.classList.add("is-open")}),n.onclick=function(){e.style.display="none"},window.onclick=function(i){i.target==e&&(e.style.display="none")},window.addEventListener("keydown",function(i){i.key==="Escape"&&(e.style.display="none")}),s.addEventListener("input",function(){s.value===""?(s.classList.remove("success","error"),t.classList.add("hidden")):c.test(s.value)?(s.classList.add("success"),s.classList.remove("error"),t.textContent="Success!",t.classList.add("success-message"),t.classList.remove("error-message","hidden")):(s.classList.add("error"),s.classList.remove("success"),t.textContent="Invalid email, try again",t.classList.add("error-message"),t.classList.remove("success-message","hidden"))}),r.addEventListener("blur",function(){this.value.length>15&&(this.dataset.fullText=this.value,this.value=this.value.slice(0,15)+"...")}),r.addEventListener("focus",function(){this.dataset.fullText&&(this.value=this.dataset.fullText)})});
//# sourceMappingURL=index.js.map
